(this["webpackJsonpweb-radio"]=this["webpackJsonpweb-radio"]||[]).push([[0],{38:function(e,t,a){},40:function(e,t,a){},41:function(e,t,a){},42:function(e,t,a){},59:function(e,t,a){"use strict";a.r(t);var n=a(9),r=a.n(n),s=a(30),c=a.n(s),i=(a(38),a(12)),o=(a(2),a(7),a.p+"static/media/trt_logo_small.d0be214e.png"),l=(a(40),a(41),a(42),a(0)),u=a(1),j=a(3),d=a(4),h=a(16),p=a.n(h),v=a.p+"static/media/play.405138f8.svg",b=a(5);function m(e){var t=e.onPlayerClick;return Object(b.jsx)("button",{className:"player__button",onClick:t,children:Object(b.jsx)("img",{src:v,alt:"play button"})})}var f=a.p+"static/media/pause.2490bb6e.svg";function O(e){var t=e.onPlayerClick;return Object(b.jsx)("button",{className:"player__button",onClick:t,children:Object(b.jsx)("img",{src:f,alt:"pause button"})})}var y=function(e){Object(j.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).handlePlayerClick=function(){n.state.playing?(n.setState({playing:!1}),p()("#stream-player")[0].pause()):(n.setState({playing:!0}),p()("#stream-player")[0].play())},n.state={playing:!1},n}return Object(u.a)(a,[{key:"render",value:function(){return Object(b.jsx)(b.Fragment,{children:this.state.playing?Object(b.jsx)(O,{onPlayerClick:this.handlePlayerClick}):Object(b.jsx)(m,{onPlayerClick:this.handlePlayerClick})})}}]),a}(n.Component);var g=function(e){Object(j.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={status:null,error:null,serverName:null,serverDescription:null,serverGenre:null},n}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=this;fetch(this.props.streamurl+"/stream").then((function(t){e.setState({status:t.status}),console.log("stream",e.state)})),p.a.getJSON({url:this.props.streamurl+"/status-json.xsl",success:function(t,a,n){console.log(n),t.icestats.source&&e.setState({serverName:t.icestats.source.server_name,serverDescription:t.icestats.source.server_description,serverGenre:t.icestats.source.genre})},error:function(e){console.log("there was an error")}})}},{key:"render",value:function(){var e,t,a,n=this.state.status;return 200===n?(e=this.state.serverName,t=this.state.serverDescription,a=this.state.serverGenre,Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("audio",{controls:!0,id:"stream-player",children:Object(b.jsx)("source",{src:"https://theravetheory.evan-savage.com:8000/stream",type:"audio/mpeg"})}),Object(b.jsx)("div",{className:"scroll-left",children:Object(b.jsxs)("p",{children:["Now playing: ",e," - ",t," [",a,"]"]})}),Object(b.jsx)("div",{className:"player-controls",children:Object(b.jsx)(y,{isplaying:!1})})]})):404===n?Object(b.jsx)("div",{className:"scroll-left",children:Object(b.jsx)("p",{children:"The stream is not currently available"})}):Object(b.jsx)("div",{className:"scroll-left",children:Object(b.jsx)("p",{children:" Loading... "})})}}]),a}(n.Component),x=a(14),C=a(31),k=a.n(C),w=function(e){Object(j.a)(a,e);var t=Object(d.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).vantaRef=r.a.createRef(),e}return Object(u.a)(a,[{key:"componentDidMount",value:function(){this.vantaEffect=k()({el:this.vantaRef.current,THREE:x,mouseControls:!1,touchControls:!1,gyroControls:!0,scale:1,scaleMobile:1,color:322816,points:5,maxDistance:17,spacing:5,backgroundColor:7500920,showDots:!0})}},{key:"componentWillUnmount",value:function(){this.vantaEffect&&this.vantaEffect.destroy()}},{key:"render",value:function(){return Object(b.jsx)("div",{className:"vanta-background",ref:this.vantaRef})}}]),a}(r.a.Component),N=function(e){Object(j.a)(a,e);var t=Object(d.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=new x.Scene,t=new x.PerspectiveCamera(40,1),a=new x.WebGLRenderer({antialias:!0,alpha:!0});a.setSize(90,90),this.mount.appendChild(a.domElement);var n=new x.BoxGeometry(10,9,10),r=new x.MeshBasicMaterial,s=new x.Mesh(n,r);(new x.TextureLoader).load(this.props.imagetexture,(function(e){s.material.map=e,s.material.needsUpdate=!0,s.scale.set(1,e.image.height/e.image.width,1)}),(function(e){console.log(e.loaded/e.total*100+"% loaded")}),(function(e){console.log("An error happened"+e)})),e.add(s),t.position.z=20,t.position.y=2;!function n(){requestAnimationFrame(n),s.rotation.y+=.01,a.render(e,t)}()}},{key:"render",value:function(){var e=this;return Object(b.jsx)("div",{className:"three-cube",ref:function(t){e.mount=t}})}}]),a}(n.Component),S=a(26),P=new S.a({id:"theravetheoryradio-rducr"});var D=function(){var e=r.a.useState(P.currentUser),t=Object(i.a)(e,2),a=(t[0],t[1],r.a.useState()),n=Object(i.a)(a,2);return n[0],n[1],Object(b.jsxs)("div",{className:"app-wrapper",children:[Object(b.jsx)(w,{}),Object(b.jsx)("div",{className:"nav-wrapper",children:Object(b.jsxs)("nav",{className:"navbar",children:[Object(b.jsx)("div",{className:"icon-container",children:Object(b.jsx)(N,{imagetexture:o})}),Object(b.jsx)(g,{streamurl:"https://theravetheory.evan-savage.com:8000"})]})}),Object(b.jsx)("div",{children:Object(b.jsx)("header",{className:"App-header"})})]})},M=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,60)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,s=t.getLCP,c=t.getTTFB;a(e),n(e),r(e),s(e),c(e)}))};c.a.render(Object(b.jsx)(r.a.StrictMode,{children:Object(b.jsx)(D,{})}),document.getElementById("root")),M()}},[[59,1,2]]]);
//# sourceMappingURL=main.28a98631.chunk.js.map